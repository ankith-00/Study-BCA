<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DBMS Lab Manual</title>

    <!--- GOOGLE ICON LINK -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

    <!-- GOOGLE FONT LINK -->
   <!-- GOOGLE FONT LINK -->
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">

    <!-- CDN FOR HIGHLIGHT -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js">    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"> </script>


<style>
* {
    margin: 0px;
    padding: 0px;
    box-sizing: border-box;
}

/* NAV - BAR */
.back-arrow {
    background: #ffff;
    position: fixed;
    z-index: 100;
    height: 2.9em;
    width: 100%;
    display: flex;
    padding: 0.5em 0 0.2em 0.4em;
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    color: #000;

}.material-symbols-outlined {
    color: #000;
    font-weight: normal;
    font-size: 1.8em;

}.nav-heading {
    width: 100%;
    display: flex;
    justify-content: space-between;

}.nav-heading p {
    font-size: 0.98em;
    margin: 0.3em 0 0 1em;
    font-weight: 600;
    letter-spacing: 0.8px;

}.publish-text {
    font-weight: normal;
}


/* CONTAINER & CONTENT */
.container {
    width: 100%;
    height: auto;
    display: flex;
    justify-content: center;
    background: #f8f8f8;

}.container-content {
    margin: 1.5em 0 0 0;
    padding: 5em;
    width: 78%;
    height: auto;
    background: #fff;

}


/* CHAPTER OR UNIT NAME & SUB HEADING */
.m-h{
    font-size: 1em;
    margin-top: 1em;
    font-weight: bold;
}.def{
    font-size: 1em;
    font-weight: normal;
}
.subject{
    font-size: 0.9em;
    padding-bottom: 1.5px;
    border-bottom: 2px solid orange;

}.author{
    font-size: 0.91em;
    color: gray;
}

table {
    margin-top     : 0.5em;
    border-collapse: collapse;
    border         : 1px solid black;
    width          : auto;
    
}td {
    width          : auto;
    font-size      : 0.88em;
    height         : 2em;
    border         : 1px solid #000;
    padding: 0 1em 0 1em;

 }a{
    text-decoration: none;
    font-size: 0.9em;

}
li{
    margin: 0.4em 0 0 0 ;
}

.subject , .m-h , .def, h3 ,p{
    font-family: 'Lexend', sans-serif;
}


code{
    line-height: 1.4;
    font-family: "Lucida Console", Monaco, monospace;
    font-weight: normal;
}

button{
    font-size: 0.9em;
    width: 30%;
    padding: 0.7em 2.3em ;
    border-radius: 1em;
    cursor: pointer;
    background: #000;
    border: 1px solid #fff;
    color: #fff;
}
button:hover{
    border: 1px solid #000;
    background-color: #fff;
    color: #000;
    transition: ease 0.5s;
}


@media only screen and (max-width : 680px) {

    .container-content {
        width: 100%;
        padding: 0.95em;
        padding-top: 3em;

    }
    button{
        width: 60%;
        padding: 0.6em 2em ;
    }
}




</style>  
</head>
<body>
    <!-- NAV START -->
    <div class="back-arrow">
        <a href="../ii-sem">
            <span class="material-symbols-outlined">first_page </span>
        </a>
        <div class="nav-heading">
            <p> STUDY( BCA ) <span class="publish-text">द्वारा प्रकाशित </span></p>
        </div>
    </div>
    <!-- NAV END -->

    <!-- CONTAINER -->
    <div class="container">
        <!-- CONTAINER CONTENT -->
        <div class="container-content">
            <h3>LAB MANUAL</h3>
            <p class="subject">Database Management System</p>
            <br> <center><p class="m-h">PART - A</p></center> <br> 
            
            <p class="m-h">PROGRAM - 02 : <span class="def">&nbsp;Viewing all databases, Creating a Database, viewing all Tables in a database, Creating Table (with and without constraints), inserting / Updating / Deleting records in a Tables. saving(commit) and Undoing(rollback) <br> <br><b>STEPS :</b> <ul style="margin-left: 1.5em; list-style: number;" class="def"><li>Create database Inventory</li> <li>Create table Product and Purchase with and without constraint</li> <li>View all tables in Inventory Database</li> <li>Insert 5 tuples into each relation</li> <li>Display all the tuples into each relation</li> <li>Update the product name for the PID=40 as CAMERA</li> <li>Delete information about the product whose PID=50</li> <li>Perform saving and Undoing</li></ul> </span></p><br>
<pre><code class="language-plaintext">SQL > conn 
Enter User-name : system 
Enter Password  : 0000       ( Password might be different )
connected.


STEP - 1 : Create database Inventory
-------------------------------------------------------------------------------------------
SQL > alter session set"_oracle_script"=true
Session altered.

SQL > create user Inventory identified by 8900 ;
user created.             

SQL > grant all privileges to Inventory ;
grant successed.


LOGGING IN TO CREATED USER ID "Inventtory"
-------------------------------------------------
SQL > conn
Enter user-name : Inventory
Enter password : 8900
connected.


STEP - 2 : Create table Product and Purchase with and without constraint
-------------------------------------------------------------------------------------------
SQL > create table product( P_ID number(10) Primary Key, Name varchar2(20) Not Null, Price Number(8,2) );
Table created.

SQL > desc product ;

Name                Null?         Type 
------------------------------------------------
P_ID                Not Null      NUMBER(10)
NAME                Not Null      NUMBER(20)
PRICE                             VARCHAR2(8,2)


SQL > create table purchase( PO Number(10) Primary Key , Product_ID Number(10) refrence product(P_ID) , Oty Number(5) ) ; 
Table created.

SQL > desc purchase ;

Name                  Null?         Type 
-----------------------------------------------
PO                    Not Null      NUMBER(10)
Product_ID                          NUMBER(10)
QTY                                 NUMBER(5)


STEP - 3 : View all tables in Inventory Database 
-------------------------------------------------------------------------------------------
SQL > select table_name , status from user_table ;

TABLE_NAME              STATUS 
--------------------------------
PRODUCT                 VALID 
PURCHASE                VALID


<p>STEP - 4 : Inseritng 5 tuples in Inventory Database</p>
-------------------------------------------------------------------------------------------
SQL > insert into product values(10 , 'Keyboaard' , 200 ) ;
1 row created.

SQL > insert into product values(20 , 'Monitor' , 2000 ) ;
1 row created.

SQL > insert into product values(30 , 'Printer' , 19000 ) ;
1 row created.

SQL > insert into product values(40 , 'Table' , 15000 ) ; 
1 row created.

SQL > insert into product values(50 , 'Scanner' , 20000 ) ; 
1 row created.


SQL > insert into purchase values(101 , 10 , 40) ;
1 row created.

SQL > insert into purchase values(102 , 30 , 30) ;
1 row created.

SQL > insert into purchase values(103 , 50 , 55) ;
1 row created.

SQL > insert into purchase values(104 , 40 , 18) ;
1 row created.

SQL > insert into purchase values(105 , 30 , 10) ;
1 row created.



STEP - 5 : Display all the tuple in Product & Purchase 
-------------------------------------------------------------------------------------------
SQL > select *from product ;

P_ID        NAME            PRICE 
----------------------------------
10          Keyboard        200
20          Monitor         2000
30          Printer         19000
40          Table           15000
50          Scanner         20000


SQL > select *from purchase ;

PO          Product_ID      QTY 
----------------------------------
101         10              200
102         30              2000
103         50              19000
104         40              15000
105         30              20000




STEP - 6 : Update the Product name for PID : 40 as Camera
-------------------------------------------------------------------------------------------
SQL > update product set Name = "Camera" where P_ID = 40 ;
1 row updated.

SQL > select *from product ;

P_ID        NAME            PRICE 
-----------------------------------
10          Keyboard        200
20          Monitor         2000
30          Printer         19000
40          Camera          15000
50          Scanner         20000



STEP - 7 : Delete information about the Product PID : 50
-------------------------------------------------------------------------------------------
SQL > delete form product where P_ID = 50 ;
1 row deleted.

SQL > select *from product ;

P_ID        NAME            PRICE 
---------------------------------
10          Keyboard        200
20          Monitor         2000
30          Printer         19000
40          Camera          15000



STEP - 8 : Perform saving and Undoing
-------------------------------------------------------------------------------------------
SQL > insert into product values(50 , 'Laptop' , 75000 ) ; 
1 row created.

SQL > insert into product values(60 , 'Mobile' , 24000 ) ; 
1 row created.

SQL > select *from product ; 

P_ID        NAME            PRICE 
----------------------------------
10          Keyboard        200
20          Monitor         2000
30          Printer         19000
40          Table           15000
50          Laptop          75000
60          Mobile          24000

SQL > commit;
commit completed.

SQL > savepoint S1;
savepoint createed.

SQL > insert into product values(70 , 'Chair' , 12000 ) ;
1 row created.

SQL > insert into product values(80 , 'Bag' , 6000 ) ;
1 row created.

SQL > select *from product ; 

P_ID        NAME            PRICE 
----------------------------------
10          Keyboard        200
20          Monitor         2000
30          Printer         19000
40          Table           15000
50          Mobile          12000
60          Laptop          62000
70          Chair           12000
80          Bag             6000

SQL > rollback to s1 ; 
rollback completed.

SQL > select *from product ; 

P_ID        NAME            PRICE 
----------------------------------
10          Keyboard        200
20          Monitor         2000
30          Printer         19000
40          Table           15000
50          Mobile          12000
60          Laptop          62000</code></pre> <br> <br>


<p class="m-h">PROGRAM - 03 : <span class="def">&nbsp;Altering a Table Dropping / Truncating / Renaming a table Backing up / Restoring a Database. <br><br> Lib(BID : Number , Author : varchar2 , Publication : varchar2 , Title : varchar2 , Year_Of_Publication : varchar2 ) <br><br> <b>STEPS : </b> <ul style="margin-left: 1.5em; list-style: number;" class="def"> <li>Crate Lib table by properly specifying the constraint.</li> <li>Rename the LIB as LIBRARY </li> <li>Add a new column Price with Not Null Constraints to the existing table Library.</li> <li>All the constraints and views that references the column are dropped automatically along with the column.</li> <li>Rename the BID to BOOKID in the library table.</li> <li>Change the data type of the column Year_Of_Publication as Text with size 15.</li> <li>Insert data into the Library table </li> <li>Truncate table to delete the records</li> <li>Drop table</li></ul></span></p> <br>
<pre><code class="language-plaintext">STEP - 1 : Crate Lib table by properly specifying the constraint.
----------------------------------------------------------
SQL> create table lib(BID Number(8) Primary Key,Title varchar2(20) Not Null, Author varchar2(20), Publication varchar2(20), Year_Of_Publication number(4));
    Table created.
    
SQL> desc lib;
Name                    Null?              Type
—--------------------------------------------------------
BID                     NOT NULL            VARCHAR2(8)
TITLE                   NOT NULL            VARCHAR2(20)
AUTHOR                                      VARCHAR2(20)
PUBLICATION                                 VARCHAR2(20)
YEAR_OF_PUBLICATION                         NUMBER(4)



STEP - 2 : Rename the LIB as LIBRARY 
-----------------------------------------------------------
SQL> alter table lib rename to library;
Table altered.
    
SQL> desc library;
    
Name                    Null?           Type
—-------------------------------------------------
BID                     NOT NULL        VARCHAR2(8)
TITLE                   NOT NULL        VARCHAR2(20)
AUTHOR                                  VARCHAR2(20)
PUBLICATION                             VARCHAR2(20)
YEAR_OF_PUBLICATION                     NUMBER(4)
    

    
STEP - 3 : Add a new column Price with Not Null Constraints to the existing table Library.
-------------------------------------------------------------------------------------------
SQL> alter table library Add Price Number(8,2) Not Null;
Table altered.

SQL> desc library;
Name                Null?           Type
—-------------------------------------------------
BID                 NOT NULL        VARCHAR2(8)
TITLE               NOT NULL        VARCHAR2(20)
AUTHOR                              VARCHAR2(20)
PUBLICATION                         VARCHAR2(20)
YEAR_OF_PUBLICATION                 NUMBER(4)
PRICE                               NUMBER(8,2)
 

    
STEP - 4 : All the constraints and views that references the column are dropped automatically along with the column.
-------------------------------------------------------------------------------------------------------------------
SQL> alter table library Drop column Author cascade constraints;
Table altered.

SQL> desc library;
Name                    Null?           Type
—---------------------------------------------------
BID                     NOT NULL        VARCHAR2(8)
TITLE                   NOT NULL        VARCHAR2(20)
PUBLICATION                             VARCHAR2(20)
YEAR_OF_PUBLICATION                     NUMBER(4)
PRICE                                   NUMBER(8,2)



STEP - 5 : Rename the BID to BOOKID in the library table.
------------------------------------------------------------
SQL> alter table library rename column BID to BOOKID;
Table altered.

SQL> desc library;
Name                    Null?           Type
—----------------------------------------------------
BOOKID                  NOT NULL        VARCHAR2(8)
TITLE                   NOT NULL        VARCHAR2(20)
PUBLICATION                             VARCHAR2(20)
YEAR_OF_PUBLICATION                     NUMBER(4)
PRICE                                   NUMBER(8,2)



STEP - 6 : Change the data type of the column Year_Of_Publication as Text with size 15.
---------------------------------------------------------------------------------------
SQL> alter table library modify Year_Of_Publication varchar2(15);
Table altered.

SQL> desc library;
Name                    Null?           Type
—-------------------------------------------------
BOOKID                  NOT NULL        VARCHAR2(8)
TITLE                   NOT NULL        VARCHAR2(20)
PUBLICATION                             VARCHAR2(20)
YEAR_OF_PUBLICATION                     VARCHAR2(15)
PRICE                                   NUMBER(8,2)



STEP - 7 : Insert data into the Library table 
-----------------------------------------------------------
SQL> insert into library values(‘BCU001’, ‘Java’ , ‘STUDY(BCA)’ , ‘2024’, 290);
1 row inserted.

SQL> insert into library values(‘BCU002’, ‘DBMS’ , ‘STUDY(BCA)’ , ‘2024’, 150.50);
1 row inserted.

SQL> insert into library values(‘BCU003’, ‘CA’ , ‘STUDY(BCA)’ , ‘2024’, 114);
1 row inserted.


SQL> select *from library;
BOOKID      TITLE	    PUBLICATION         YEAR_OF_PUBLICATION     PRICE
—-------------------------------------------------------------------------------
BCU001      Java        STUDY(BCA)          2024                        290
BCU002      DBMS        STUDY(BCA)          2024                        150.50
BCU003      CA          STUDY(BCA)          2024                        144





STEP - 8 : Truncate table to delete the records 
-----------------------------------------------------------
SQL> truncate table library;
Table library truncated.

SQL> select *from library;
0 rows selected.




STEP - 9 : Drop table
----------------------------------------------------------------
SQL> drop table library;
Table dropped.

SQL> desc library;
ERROR : 
ORA-04043:Object library does not exist</code></pre> <br> <br>


<!-- PROGRAM - 04 -->
<p class="m-h">PROGRAM - 04 : <span class="def">For a given set of relation schemes, create tables and perform the following simple queries, simple queries with with aggregate function , queries with aggregate function ( group by and having clause )<br><br> <b> STEPS :</b><br><ul class="def" style="margin-left: 1.5em; list-style: number;"> <li>Crate table salary</li> <li>Enter five tuples into the table</li> <li>Display Employee Number and their salary</li> <li>Find the sum of salary of all the employee</li> <li>Find the sum and average salaries of employee of a particular department</li> <li>Find the number of employee working for each department</li> <li>Display Employee information in ascending and descending order of their date of joining</li> <li>Find the highest salary that an Employee draws</li> <li>Find the least salary that an employee draws</li> <li>Display the details of employee whose name is Astro and salary is greater than 50000</li></ul></span></p><br>
<p><pre><code class="language-plaintext">STEP - 1 : Crate table salary
-------------------------------------------------------------------------------------------
SQL> create table salaryDB(EID varchar2(8) Primary Key , Name varchar2(15) Not null, Dept varchar2(10), DOJ Date , Salary Number(10,2));
Table created.
    
SQL> desc salaryDB;

Name                Null?           Type
-------------------------------------------------
EID                 NOT NULL        VARCHAR2(8)
NAME                NOT NULL        VARCHAR2(15)
DEPT                                VARCHAR2(10)
DOJ                                 DATE
SALARY                              NUMBER(10,2)
 


STEP - 2 : Enter five tuples into the table
-------------------------------------------------------------------------------------------

SQL> insert into salaryDB values(‘BCU001’, ‘Astro' , 'Admin' , ‘22-FEB-2021’, 55000);
1 row created.

SQL> insert into salaryDB values(‘BCU002’, ‘Ankith’ , ‘HR’ , ‘22-OCT-2021’, 60000);
1 row created.

SQL> insert into salaryDB values(‘BCU003’, ‘Yuhanna’ , ‘HR’ , ‘10-AUG-2022’, 35000);
1 row created.

SQL> insert into salaryDB values(‘BCU004’, ‘Aseem’ , ‘Marketing’ , ‘02-JUN-2024’, 550000);
1 row created.

SQL> insert into salaryDB values(‘BCU005’, ‘Yuvaraj’ , ‘Finance’ , ‘28-APR-2023’, 25000);
1 row created.


SQL> select *from salaryDB;
EID     NAME        DEPT                DOJ             SALARY
----------------------------------------------------------------
BCU001	Astro       Admin               22-FEB-2021     55000
BCU002	Ankith      HR                  22-OCT-2021     60000
BCU003	Yuhanna     HR                  10-AUG-2022     35000
BCU004	Aseem       Marketing           02-JUN-2024     55000
BCU005	Yuvaraj     Finance             28-APR-2023     25000



STEP - 3 : Display Employee Number and their salary
-------------------------------------------------------------------------------------------

SQL> select EID ,Salary from salaryDB;

ENO         SALARY
—--------------------
BCU001      55000
BCU002      60000
BCU003      35000
BCU004      55000
BCU005      25000



STEP - 4 : Find the sum of salary of all the employee
-------------------------------------------------------------------------------------------

SQL> select sum(Salary) As ”Total_Salary” from salaryDB;

TOTAL_SALARY	
----------------
    230000



STEP - 5 : Find the sum and average salaries of employee of a particular department
-------------------------------------------------------------------------------------------

SQL> select Dept,sum(Salary) As “Total_Salary” avg(Salary) As “Average_Salary” from salaryDB group by dept

DEPT            TOTAL_SALARY        AVERAGE_SALARY
—---------------------------------------------------
ADMIN           55000               25000		
HR              95000               47500
MARKETING       55000               55000
FINANCE         25000               25000



STEP - 6 : Find the number of employee working for each department
-------------------------------------------------------------------------------------------

SQL> select Dept , count(*) As “Number_Of_Employees” from salaryDB group by Dept;

DEPT                NUMBER_OF_EMPLOYEES
—---------------------------------------
Admin                               1
HR                                  2
Finance                             1
Marketing                           1



STEP - 7 : Display Employee information in ascending and descending order of their date of joining
----------------------------------------------------------------------------------------------------

SQL> select *from salaryDB order by DOJ Asc;

EID     NAME        DEPT            DOJ             SALARY
------------------------------------------------------------
BCU004  Aseem       Marketing       02-JUN-2024     55000
BCU001	Astro       Admin           22-FEB-2021     55000
BCU005	Yuvaraj     Finance         28-APR-2023     25000 
BCU003	Yuhanna     HR              10-AUG-2022     35000
BCU002	Ankith      HR              22-OCT-2021     60000


SQL> select *from salaryDB order by DOJ Desc;

EID     NAME        DEPT            DOJ             SALARY
-----------------------------------------------------------
BCU002	Ankith      HR              22-OCT-2021     60000
BCU003	Yuhanna     HR              10-AUG-2022     35000
BCU005	Yuvaraj     Finance         28-APR-2023     25000 
BCU001	Astro       Admin           22-FEB-2021     55000
BCU004	Aseem       Marketing       02-JUN-2024     55000




STEP - 8 : Find the highest salary that an Employee draws
----------------------------------------------------------------------------------------------------

SQL> select Max(Salary) As “Highest_Salary” from salaryDB;

HIGHEST_SALARY
----------------
    60000



STEP - 9 : Find the least salary that an employee draws
----------------------------------------------------------------------------------------------------

SQL> select Min(Salary) As “Least_Salary” from salaryDB;

LEAST_SALARY
----------------
    25000



STEP - 10 : Display the details of employee whose name is Astro and salary is greater than 50000
----------------------------------------------------------------------------------------------------

SQL> select *from salaryDB where Name=”Astro” salary > 50000;

EID     NAME        DEPT        DOJ             SALARY
----------------------------------------------------------
BCU001	Astro       Admin       22-FEB-2021     55000
</code></pre></p><br><br>







<!-- PROGRAM -  05,  6,  7,   8 ,  9  &  10  --->
<p class="m-h">PROGRAM - <span class="def">&nbsp;05,  6,  7,   8 ,  9  &  10  <br> <br> <b>STEPS : </b> <br><ul class="def" style="margin: 0.5em 0 0 1.5em; list-style: number;"> <li>Create the following tables : </li> Emp(ENO:Number , EName:varchar2 , EDate:Date , Address:varchar2 , Gender:Char , Salary:Number , DeptNo:Number ) <br> Dept(DNO:Number , DName:varchar2 , DLocation:varchar2) <br>Project(PNO:Number , PName:varchar2 , DNUM:Number);<br> Works_On(ENO:Number , PNUM:Number , Hours:Number); <li>Insert values into tables</li></ul></span></p> <br>
<pre><code class="language-plaintext">STEP - 01 : create tables
---------------------------------------------------------------------------------------------------- 
SQL> create table Dept(DNO Number(4) Primary Key, Name varchar2(20) Not Null, DLocation varchar2(20));
Table created.

SQL> desc Dept;
Name            Null?           Type
—--------------------------------------------
DNONOT          NULL            NUMBER(4)
NAME            NOT NULL        VARCHAR2(20)
DLOCATION                       VARCHAR2(20)


SQL> create table Emp(ENO Number(6) Primary Key, Name varchar2(20) Not Null,Edate Date , Address varchar2(20), G char, Salary Number(10) Not Null, DepNo Number(4) references Dept);
Table created.

SQL> desc Emp;
Name            Null?               Type
—-----------------------------------------------
ENO             NOTNULL             NUMBER(6)
ENAME           NOT NULL            VARCHAR2(20)
EDATE                               DATE
ADDRESS                             VARCHAR2(20)
G                                   CHAR
SALARY          NOT NULL            NUMBER(10)
DEPTNO                              NUMBER(4)


SQL> create table Project(PNO Number(10) Primary Key PName varchar2(20) Not Null, DNUM Number(4) references Dept);
Table created.

SQL> desc Project;
Name            Null?               Type
—------------------------------------------------
PNO             NOT NULL            NUMBER(10)
PNAME           NOT NULL            VARCHAR2(20)
DNUM                                NUMBER(4)



SQL> create table works_on(ENO Number(6) references Emp Not Null , PNUM Number(10) references Project Not Null , Hours number(3,1) Not Null Primary Key(ENO , PNUM));
Table created.

SQL> desc works_on;
Name            Null?               Type
—------------------------------------------------
ENO             NOT NULL            NUMBER(6)
PNUM            NOT NULL            NUMBER(10)
HOURS           NOT NULL            NUMBER(3,1)



STEP - 02 : Insert values
----------------------------------------------------------------------------------------------------
SQL> insert into Dept values(2, ‘Accounts’, ‘Jayanagar’);
1 row created.

SQL> insert into Dept values(3, ‘Research’, ‘Southend’);
1 row created.

SQL> insert into Dept values(1, ‘Admin’, ‘Kengeri’);
1 row created.
 
SQL> select *from Dept;
DNO     NAME            DLOCATIO
-------------------------------------
2       Accounts        Jayanagar
3       Research        Southend
1       Admin           Kengeri
3 rows selected.


SQL> insert into Emp values(1001 , ‘Astro’ , ‘14-JAN-1990’ , ‘Bengaluru’ , ‘M’ , 50000 , 1);
1 row created.

SQL> insert into Emp values(1002 , ‘Ankith’ , ‘4-MAR-2000’ , ‘Mysore’ , ‘M’ , 45000 , 2);
1 row created.

SQL> insert into Emp values(1003 , ‘Lakshmi’ , ‘22-DEC-1998’, ‘Mangalore’ , ‘F’ , 55000 , 3);
1 row created.

SQL> insert into Emp values(1004 , ‘Sinchana’ ,‘26-JAN-2001’, ‘Dharwad’ , ‘F’ , 20000 , 3);
1 row created.

SQL> insert into Emp values(1005 , ‘Vinay’ , ‘28-NOV-2002’ , ‘Kolar’ , ‘M’ , 30000 , 2);
1 row created.

SQL> insert into Emp values(1006 , ‘Rakesh’ , ‘28-MAY-2004’ , ‘Haveri’ , ‘M’ , 38000 , 2);
1 row created.

SQL> select *from Emp;
ENO     ENAME       EDATE           ADDRESS         G       SALARY      DEPTNO
—------------------------------------------------------------------------------
1001    Astro       14-JAN-1990     Bengaluru       M	    50000       1
1002    Ankith      4-MAR-2000      Mysore          M	    45000       2
1003    Lakshmi     22-DEC-1998     Mangalore       F       55000       3
1004    Sinchana    26-JAN-2001     Dharwad         F       20000       3
1005    Vinay       28-NOV-2002     Kolar           M       30000       2
1006    Rakesh      28-MAY-2004	    Haveri          M 	    38000       2
6 rows selected.


SQL> insert into Project values(10, ‘ERP’ ,1);
1 row created.

SQL> insert into Project values(20, ‘Banking’ ,2);
1 row created.

SQL> insert into Project values(30, ‘Tech’ ,3);
1 row created.

SQL> insert into Project values(40, ‘Finance’ ,1);
1 row created.

SQL> insert into Project values(50, ‘Analytics’ ,3);
1 row created.
SQL> select * from Project;
PNO     PNAME       DNUM
—-------------------------
10      ERP         1
20      Banking     2
30      Tech        3
40      Finance     1
50      Analytics   3
5 rows selected.


SQL> insert into works_on values(1003 , 20 , 10.5);
1 row created.

SQL> insert into works_on values(1001 , 20 , 4.5);
1 row created.

SQL> insert into works_on values(1002 , 30 , 8.5);
1 row created.

SQL> insert into works_on values(1005 , 20 , 4.5);
1 row created.

SQL> insert into works_on values(1004 , 10 , 9.5);
1 row created.

SQL> select *from works_on;
ENO     PNUM    HOURS
----------------------
1003    50      10.5
1001    20      4.5
1002    30      8.5
1005    20      4.5
1004    10      9.5
5 rows selected.</code></pre> <br> <br>


<!-- PROGRAM - 05  -->
<p class="m-h">PROGRAM - 05 : <span class="def">&nbsp; Execute Following queries <br> <ul class="def" style="margin: 0.5em 0 0 1.5em; list-style: number;"><li>Show the resulting salary if every employee on the ‘Research’ The department is given a 10% raise.</li> <li>Find the sum of the salaries  of all employee of the ‘Accounts’ department as well as the maximum salary the  minimum and the average salary in this department</li></ul></span></p> <br>
<pre><code class="language-plaintext">STEP - 01 : Show the resulting salary if every employee on the ‘Research’ The department is given a 10% raise.
----------------------------------------------------------------------------------------------------
SQL> select E.ENO, E.EName, D.DName , 1.1*E.Salary As “INC_SALARY” from EMP E, Dept D where E.DeptNO=D.DNO and D.DName=’Research’;

ENO     ENAME       DNAME       INC_SALARY
—------------------------------------------
1003    Lakshmi     Research    55000	
1004    Sinchana    Research    20000		


STEP - 02 : Find the sum of the salaries  of all employee of the ‘Accounts’ department as well as the maximum salary the  minimum and the average salary in this department
----------------------------------------------------------------------------------------------------
SQL> select Max(E.Salary), Min(E.Salary) ,Sum(E.Salary) ,Avg(E.Salary) from Emp E , Dept D where E.DNO=D.DNO and D.DName=’Accounts’;

MAX(E.SALARY)       MIN(E.SALARY)       SUM(E.SALARY)       AVG(E.SALARY)
—--------------------------------------------------------------------------- 
45000               30000               113000              37666
</code></pre> <br> <br>


<!-- PROGRAM - 06  -->
<p class="m-h">PROGRAM - 06 : <span class="def">&nbsp;Execute Following queries <ul class="def" style="margin: 0.5em 0 0 1.5em; list-style: number;"><li>Retrieve the name of each employee controlled by Department number 5 ( use Exist operator )</li> <li>Retrieve the name of each Department and number of Employees working  in each Department which has at least 2 employees.</li></ul></span></p> <br>
<pre><code class="language-plaintext">STEP - 01 : Retrieve the name of each employee controlled by Department number 5 ( use Exist operator )
----------------------------------------------------------------------------------------------------
SQL> select E.EName from Emp E where exist(select D.DNO from Dept D where E.DNO=D.DNO and E.DNO=5);

ENAME 
—------
Vinay


STEP - 02 : Retrieve the name of each Department and number of Employees working  in each Department which has at least 2 employees.
----------------------------------------------------------------------------------------------------
SQL> select D.DName , count(*) from Emp E.Dept D where E.DNO=D.DNO group by D.DName having count(*)>=2;

DNAME           COUNT(*)
—-----------------------
Research        2 
Accounts        3
</code></pre> <br> <br>



<!-- PROGRAM - 07  -->
<p class="m-h">PROGRAM - 07 : <span class="def">&nbsp;  Execute Following queries <ul class="def" style="margin: 0.5em 0 0 1.5em; list-style: number;"> <li>For each project retrieve the project number the project number  the project name and the number of employee who work on that project ( use GROUP BY )</li> <li>Retrieve the name of employee who born in the year 1990’s</li></ul></span></p> <br>
<pre><code class="language-plaintext">STEP - 01 : For each project retrieve the project number the project number  the project name and the number of employee who work on that project ( use GROUP BY )
----------------------------------------------------------------------------------------------------
SQL> select P.PNO , P.PName , count(*) as ”NO_OF_EMP” from Project P.works_on W where P.PNO=W.PNUM group by P.PNO, P.PName;

PNO     PNAME       NO_OF_EMP
—-----------------------------
10      ERP         1
20      Banking     2
30      Tech        1
40      Finance     0
50      Analytics   1


STEP - 02 : Retrieve the name of employee who born in the year 1990’s
----------------------------------------------------------------------------------------------------
SQL> select EName , EDate from Emp where EDate like’%-%-90’;

ENAME       EDATE
—---------------------
Astro       14-JAN-90
Lakshmi     22-DEC-90
</code></pre> <br> <br>



<!-- PROGRAM - 08  -->
<p class="m-h">PROGRAM - 08 : <span class="def">&nbsp; Execute Following queries</span> <ul class="def" style="margin: 0.5em 0 0 1.5em; list-style: number;"> <li>For each department that has more than 5 employee , retrive the department number and number employees who are making salary more than 40000</li> <li>For each department that has more than 2 employee, retrieve the department number and number of employees who are making salary more than 40000</li></ul></p> <br>
<pre><code class="language-plaintext">STEP - 01 : For each department that has more than 5 employee , retrive the department number and number employees who are making salary more than 40000
----------------------------------------------------------------------------------------------------
SQL> select D.DName , D.DNO,count(*) As “NO_OF_EMP” from E.Dept where E.DNO=D.DNO and E.Salary>40000 and D D.DNO in(select DNO from Emp group by DNO having count(*)>=5) group by D.DNO, D.DName;
no rows selected.   


STEP - 01 : For each department that has more than 2 employee, retrieve the department number and number of employees who are making salary more than 40000
----------------------------------------------------------------------------------------------------
SQL> select D.DName , D.DNO , count(*) from E.Dept D where E.DNO in (select DNO from Emp group by DNO having count(*)>2) group by D.DNO, D.DName;

DNAME       DNO     COUNT(*)
—------------------------------
Research    2       1
Accounts    2       1
</code></pre> <br> <br>



<!-- PROGRAM - 09  -->
<p class="m-h">PROGRAM - 09 : <span class="def">&nbsp; Execute Following queries </span> <ul class="def" style="margin: 0.5em 0 0 1.5em; list-style: number;"><li>For each project on which more than 2 employees work , retrieve the project number project name and the number of employee who work on that project</li></ul></p><br>
<pre><code class="language-plaintext">STEP - 01 : For each project on which more than 2 employees work , retrieve the project number project name and the number of employee who work on that project
----------------------------------------------------------------------------------------------------
SQL> select P.PNO , P.PName , count(*) As “NO_OF_EMP_WORKING” from Project P.works_on W where P.PNO=W.PNUM group by P.PNO, P.PNAME having count(*)>2;

PNO     PNAME           NO_OF_EMP_WORKING
—----------------------------------------
20      Banking         3
</code></pre> <br> <br>



<!-- PROGRAM - 10  -->
<p class="m-h">PROGRAM - 10 : <span class="def">&nbsp; Execute Following queries </span> <ul class="def" style="margin: 0.5em 0 0 1.5em; list-style: number;"> <li>For a given set of relation tables perform the following : Create views ( with and without check option ) . Dropping views, selecting from a view.</li></ul></p><br>
<pre><code class="language-plaintext">STEP - 01 :  Creating view
----------------------------------------------------------------------------------------------------
SQL> create view Emp_Dept as (select E.ENO, E.EName , E.Salary E.DNO , D.DName from Emp E, Dept D where E.DNO=D.DNO); 
view created.


STEP - 02 : Displaying all the rows of a view  
----------------------------------------------------------------------------------------------------
SQL> select * from Emp_Dept;

ENO     ENAME       SALARY      DEPTNO      DNAME
------------------------------------------------------
1001    Astro       50000       1           Admin
1002    Ankith      45000       2           Accounts
1003    Lakshmi     55000       3           Research
1004    Sinchana    20000       3           Research
1005    Vinay       30000       2           Accounts
1006    Rakesh      38000       2           Accounts
6 rows selected.


STEP - 03 : Inserting records into a view
----------------------------------------------------------------------------------------------------
SQL> insert into Emp_Dept values(‘1007’, ‘Srikanth’ , 90000, 3 , Research);
1 row created.


STEP - 04 : Displaying all the rows of a view  
----------------------------------------------------------------------------------------------------
SQL> select * from Emp_Dept;

ENO     ENAME       SALARY      DEPTNO      DNAME
------------------------------------------------------
1001    Astro       50000       1           Admin
1002    Ankith      45000       2           Accounts
1003    Lakshmi     55000       3           Research
1004    Sinchana    20000       3           Research
1005    Vinay       30000       2           Accounts
1006    Rakesh      38000       2           Accounts
1007    Srikanth    90000       3           Research
7 rows selected.


STEP - 05 : Drop view
----------------------------------------------------------------------------------------------------
SQL> drop view Emp_Dept;
view dropped
</code></pre> <br> 



<br> <br><center><p class="m-h">PART - B</p></center> <br> <br>
<!-- PART - B -->
<span class="def">Create the following table with properly specifying Primary Key , Foreign Key and Execute the given queries. <ul class="def" style="margin: 0.5em 0 0 1.5em; list-style: number;"> <li>BRANCH(BranchID , BranchName , HOD)</li> <li> STUDENT(USN , Name , Address, BranchID , Sem)</li> <li> BOOK( BookID, BookName, AuthorID, BranchID, Publisher, BranchID ) </li> <li> AUTHOR(AuthorID , AuthorName , Country , Age) </li> <li>BORROW(USN , BookID , Borrowes_Date) </li> </ul></span> <br>



<pre><code class="language-plaintext">STEP - 01 : Creating Collage database
----------------------------------------------------------------------------------------------------
SQL> conn
Enter user-name : system
Enter password : admin
Last Successful login time: Thu Jun 20 2024 21:52:04 +03:30

Connected to:
Oracle Database 21c Express Edition Release 21.0.0.0.0 - Production
Version 21.3.0.0.0

SQL> alter session set”_oracle_script”=true;
Session altered.

SQL> create user CollageDB identified by astro;
User created.

SQL> grant all privileges to CollageDB;
Grant succeeded.

SQL> conn
Enter user-name : CollageDB
Enter Password : astro
connected. 


STEP - 02 : creating all the tables by properly specifying key constraints. 
----------------------------------------------------------------------------------------------------
SQL> create table Branch(BRID Number(5) Primary Key , BRName varchar2(15) Not Null , HOD varchar2(10));
Table created.

SQL> desc Branch;
Name        Null?               Type
—---------------------------------------------
BRID        NOT NULL            NUMBER(5)
BRNAME      NOT NULL            VARCHAR2(15)
HOD                             VARCHAR2(10)


SQL> create table Student(USN varchar2(15) Primary Key , Name varchar2(15) Not Bull , Address varchar2(15), BRID Number(5) references Branch, Sem varchar2(10));
Table created.

SQL> desc Student;
Name        Null?           Type
—----------------------------------------
USN         NOT NULL        VARCHAR2(15)
NAME        NOT NULL        VARCHAR2(15)
ADDRESS                     VARCHAR2(15)
BRID                        NUMBER(5)
SEM                         VARCHAR2(10)


SQL> create table Author(AID varchar2(10) Primary Key , AName varchar2(15) Not Null , Country varchar2(15), Age Number(4));
Table created. 

SQL> desc Author;
Name        Null?           Type
—----------------------------------------
AID         NOT NULL        VARCHAR2(10)
ANAME       NOT NULL        VARCHAR2(15)
COUNTRY                     VARCHAR2(15)
AGE                         NUMBER(4)

SQL> create table Book(BKID varchar2(10) Primary Key, BKName varchar2(15) Not Null, AID varchar2(10) references Author, Publisher varchar2(20) Not Null , BRID Number(5) references Branch);
Table created.

SQL> desc Book;
Name        Null?           Type
—--------------------------------------------
BKID        NOT NULL        VARCHAR2(10)
BKNAME      NOT NULL        VARCHAR2(15)
AID                         VARCHAR2(10)
PUBLISHER   NOT NULL        VARCHAR2(20)
BRID                        NUMBER(5)


SQL> create table Borrowed(USN varchar2(15) references Student, BKID varchar2(10) references Book, Borrow_Date Date, Primary Key(USN,BKID));
Table created.

SQL> desc Borrowed;
Name            Null?           Type
—--------------------------------------------------
USN             NOT NULL        VARCHAR2(15)
BKID            NOT NULL        VARCHAR2(10)
BORROWED_DATE                   DATE
</code></pre> <br> <br> <br>


<p style="font-family: Open Sans, sans-serif;"><b>NOTE : </b> <br> <span style="font-size: 0.88em;">Access to this document is restricted to subscribers only</span><br>Preview manual : <a href="https://drive.google.com/file/d/1WgETnHq3R28J4_vnvW7nji06AQGq93Rw/view?usp=sharing">DBMS lab manual</a></p> <br>
<!----
<br><p>Get a print copy of this lab manual</p>
<pre><code class="language-plaintext" style="background-color: #fff; color: #000; font-weight: 100;">Title         : DBMS Lab Manual
Total Queris  : 18
Total Pages   : 58 Pages
Price         : Rs 30
</code></pre>

<button>Get a copy</button><br>
---->
            <br>
            <p class="author"><i>Last updated on 4 JULY 2024 BY : <a href="">ANKITH KUMAR</a> ( Bengaluru City University )</i></p> 
        </div>
        <!-- END OF CONTAINER CONTENT -->
    </div>
    <!-- END OF CONTAINER -->
<script>hljs.highlightAll();</script>
</body>
</html>
